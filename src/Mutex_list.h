/*
 * Mutex_list.h
 *
 *  Created on: Aug 3, 2016
 *      Author: root
 */

#ifndef MUTEX_LIST_H_
#define MUTEX_LIST_H_

#include <list>
#include <mutex>

template <class T>
class Mutex_List : public std::list<T> {
    std::mutex __mutex;

public:
    Mutex_List<T>();
    Mutex_List<T>(const Mutex_List<T> &);

    ~Mutex_List<T>();

    void lock();
    bool try_lock();
    void unlock();
};

template <class T>
Mutex_List<T>::Mutex_List()
:std::list<T>(), __mutex() {}

template <class T>
Mutex_List<T>::Mutex_List(const Mutex_List<T> &_origin)
:std::list<T>(_origin) {}

template <class T>
Mutex_List<T>::~Mutex_List() {}

template <class T>
void Mutex_List<T>::lock() {
    __mutex.lock();
}

template <class T>
bool Mutex_List<T>::try_lock() {
    return __mutex.try_lock();
}

template <class T>
void Mutex_List<T>::unlock() {
    __mutex.unlock();
}


#endif /* MUTEX_LIST_H_ */
